# ==========================================
# UEMS Environment Configuration
# ==========================================
# Copy this file to .env and fill in the values
# DO NOT commit .env to version control
# Generate secure secrets using: openssl rand -base64 64

# ==========================================
# Node Environment
# ==========================================
NODE_ENV=development

# ==========================================
# Application Configuration
# ==========================================
APP_NAME=UEMS
APP_VERSION=1.0.0

# ==========================================
# PostgreSQL Database Configuration (UEMS)
# ==========================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=uems_user
POSTGRES_PASSWORD=uems_secure_password_change_in_production
POSTGRES_DB=uems_db
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=30000

# ==========================================
# Redis Configuration
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
# Generate using: openssl rand -base64 32
REDIS_PASSWORD=GENERATE_ME_openssl_rand_base64_32
REDIS_DB=0

# ==========================================
# NextCloud Database Configuration
# ==========================================
NEXTCLOUD_DB_HOST=nextcloud-db
NEXTCLOUD_DB_PORT=5432
NEXTCLOUD_DB_USER=nextcloud
NEXTCLOUD_DB_PASSWORD=nextcloud_secure_password_change_in_production
NEXTCLOUD_DB_NAME=nextcloud
NEXTCLOUD_DB_TYPE=pgsql

# ==========================================
# NextCloud Application Configuration
# ==========================================
NEXTCLOUD_URL=http://nextcloud
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=admin_secure_password_change_in_production
NEXTCLOUD_TRUSTED_DOMAINS=localhost,yourdomain.com
NEXTCLOUD_WEBDAV_URL=http://nextcloud/remote.php/dav
NEXTCLOUD_OCS_URL=http://nextcloud/ocs/v1.php

# ==========================================
# JWT Configuration - CRITICAL: Generate Secure Secrets!
# ==========================================
# IMPORTANT: Generate unique secrets using:
#   openssl rand -base64 64
# Never use the example values below in production!
JWT_SECRET=GENERATE_ME_openssl_rand_base64_64
JWT_EXPIRATION=3600
JWT_REFRESH_SECRET=GENERATE_ME_openssl_rand_base64_64
JWT_REFRESH_EXPIRATION=604800

# ==========================================
# Backend API Configuration
# ==========================================
BACKEND_PORT=3001
BACKEND_HOST=0.0.0.0
API_PREFIX=api/v1
API_TIMEOUT=30000
LOG_LEVEL=debug

# ==========================================
# Frontend Configuration
# ==========================================
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost/api/v1
NEXT_PUBLIC_NEXTCLOUD_URL=http://localhost/nextcloud

# ==========================================
# Nginx Configuration
# ==========================================
NGINX_PORT=80
NGINX_SSL_PORT=443

# ==========================================
# Security Configuration
# ==========================================
BCRYPT_ROUNDS=12
CORS_ORIGIN=http://localhost,http://localhost:3000
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ==========================================
# File Upload Configuration
# ==========================================
MAX_FILE_SIZE=104857600
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=.pdf,.doc,.docx,.txt,.jpg,.jpeg,.png

# ==========================================
# Logging Configuration
# ==========================================
LOG_DIR=./logs
DB_QUERY_TIMEOUT=10000

# ==========================================
# Default Admin User
# ==========================================
DEFAULT_ADMIN_EMAIL=admin@uems.com
DEFAULT_ADMIN_PASSWORD=Admin@123456
DEFAULT_ADMIN_FIRSTNAME=System
DEFAULT_ADMIN_LASTNAME=Administrator

# ==========================================
# Feature Flags
# ==========================================
ENABLE_CV_PARSING=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_AUDIT_LOGGING=true
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_TWO_FACTOR_AUTH=false

# ==========================================
# Email Configuration (Optional)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password
EMAIL_FROM=noreply@uems.com

# ==========================================
# Production-Only Configuration
# ==========================================
# Domain name for production deployment
DOMAIN_NAME=yourdomain.com

# Production API URLs (used in docker-compose.prod.yml)
# NEXT_PUBLIC_API_URL=https://yourdomain.com/api/v1
# NEXT_PUBLIC_NEXTCLOUD_URL=https://yourdomain.com/nextcloud

# ==========================================
# Database Performance Tuning (Production)
# ==========================================
# POSTGRES_MAX_CONNECTIONS=200
# POSTGRES_SHARED_BUFFERS=512MB
# POSTGRES_EFFECTIVE_CACHE_SIZE=2GB
# POSTGRES_WORK_MEM=16MB
# POSTGRES_MAINTENANCE_WORK_MEM=128MB

# ==========================================
# Monitoring and Analytics (Optional)
# ==========================================
# SENTRY_DSN=your_sentry_dsn_here
# GOOGLE_ANALYTICS_ID=your_ga_id_here
